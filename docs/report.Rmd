---
title: "Report: The Story and Mystery of Pok√©mon ‚Äî A Comprehensive Data Science Exploration"
output:
  html_document:
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: true
    toc_depth: 3
    theme: cosmo
    code_folding: hide
    self_contained: false
---
*Team Members: Leah Li (yl5828), Ruipeng Li (rl3616), Xuange Liang (xl3493), Yiwen Zhang (yz4994)* 

```{r, message=FALSE, warning=FALSE}
library(rvest)
library(tidyverse)
library(janitor)
```

# Motivation
- **Dataset**: 1,025 Pok√©mon species across 9 generations (1996-2025)
- **Why Pok√©mon?**
  - Rich, structured dataset with quantitative and categorical features
  - Perfect case study for demonstrating complete data science workflow
  - Combines statistical rigor with creative exploration
  - Practical application for competitive play and team building
- **Motiviation**
The Pok√©mon dataset offers a rich and structured environment for applying data science methods to explore relationships between attributes, performance, and design balance. Each Pok√©mon is described by a variety of quantitative and categorical features‚Äîsuch as type, stats, generation, and legendary status‚Äîmaking it an excellent case study for classification, clustering, and predictive modeling. Analyzing this dataset allows us to practice fundamental data science workflows, including data cleaning, feature engineering, visualization, and model evaluation, while also addressing interesting questions such as: What characteristics make a Pok√©mon strong? Are legendary Pok√©mon statistically distinct from others? By combining statistical reasoning with creative curiosity, this project aims to turn a familiar and entertaining topic into a meaningful data-driven exploration.

# Related Work

Prior analyses of the Pok√©mon dataset have appeared in a variety of data science blogs, Kaggle kernels, and academic teaching materials, demonstrating its popularity as a case study for statistical learning. Kaggle‚Äôs ‚ÄúComplete Pok√©mon Dataset‚Äù has inspired numerous exploratory and predictive modeling projects that examine type advantages, stat distributions, and the distinctiveness of legendary Pok√©mon. Several tutorials‚Äîincluding those discussed in class‚Äîuse this dataset to illustrate concepts such as principal component analysis, clustering, and classification algorithms due to its clean structure and intuitive domain. Additionally, online communities like Towards Data Science and r/datascience frequently feature Pok√©mon-themed analyses that highlight best practices in visualization, feature engineering, and model evaluation. These prior works inform our project by showcasing the dataset‚Äôs versatility and by motivating deeper investigation into what features drive Pok√©mon performance, balance, and design across generations.

# Initial Questions

**Core Questions:**

- **Legendary Classification**: Is it possible to build a classifier to identify legendary Pok√©mon?
- **Physical Attributes Analysis**: How does height and weight of a Pok√©mon correlate with its various base stats?
- **Type Effectiveness**: Which type (or type combination) is the strongest overall? Which is the weakest?
- **Type-Legendary Relationship**: Which type is the most likely to be a legendary Pok√©mon?
- **Rating System Development**: Based on Pok√©mon type and stats, can we provide a Pok√©mon rating system for beginners?

**Extended Questions:**

- **System Validation**: Does the "best" Pok√©mon team selected through this rating system actually match competitive standards (based on "Pok√©mon Masters" reviews)?
- **Team Building Utility**: Can you build a "best" Pok√©mon team based on this rating system? In other words, is this system reliable or useful as a reference?

# Data

| Source | Description | URL |
|--------|-------------|-----|
| **Pok√©monDB** | Complete Pok√©mon Stats and Physical Attributes scraped from web | (<a href="https://pokemondb.net/pokedex/all">Complete Pok√©mon Pok√©dex</a>)(<a href="https://pokemondb.net/pokedex/stats/height-weight">List of Pok√©mon by height and weight</a>) |
| **BULBAGARDEN** | "Fully evolved Pok√©mon only list" scraped from web | (<a href="https://bulbapedia.bulbagarden.net/wiki/List_of_fully_evolved_Pok%C3%A9mon_by_base_stats">Fully evolved Pok√©mon List</a>) |

## Pok√©mon Dataset Overview (Full Version)

<div align="center">

| Metric | Value |
|--------|-------|
| **Species Count** | 1,025 Pok√©mon |
| **Generations** | Gen 1‚Äì9 (1996‚Äì2025) |
| **Features** | 30+ attributes |

  <a href="https://raw.githubusercontent.com/PineappleEater/P8105---Final-Project-Pokemon/main/data/pokemon_data_all.csv"
     download
     style="
       display: inline-block;
       padding: 6px 12px;
       border-radius: 999px;
       background: #ffb3d9;
       color: #442233;
       text-decoration: none;
       font-weight: 600;
       font-size: 13px;
     ">
    üì• Download Full CSV
  </a>
</div>

## Pok√©mon Dataset Overview (Evolved Pok√©mon Only)

<div align="center">

| Metric | Value |
|--------|-------|
| **Species Count** | 1,025 Pok√©mon |
| **Generations** | Gen 1‚Äì9 (1996‚Äì2025) |
| **Features** | 30+ attributes |

<a href="https://raw.githubusercontent.com/PineappleEater/P8105---Final-Project-Pokemon/main/data/pokemon_data_final_evolutions_enriched.csv"
     download
     style="
       display: inline-block;
       padding: 6px 12px;
       border-radius: 999px;
       background: #ffb3d9;
       color: #442233;
       text-decoration: none;
       font-weight: 600;
       font-size: 13px;
     ">
    üì• Download Full CSV
  </a>
</div>

### Key Variables

| Variable | Type | Description |
|----------|------|-------------|
| `dex` | Integer | National Pok√©dex number |
| `name` | String | Official species name |
| `type_1` / `type_2` | Categorical | Primary and secondary types |
| `total` | Integer | Base Stat Total (BST) |
| `hp` ... `speed` | Integer | Individual base stats |
| `is_legendary` | Boolean | Legendary status flag |
| `is_special` | Boolean | Legendary status flag |
| `category` | Factor | Regular / Legendary / Mythical / Paradox / Ultra Beast |
| `generation` | character | Pok√©mon Game Generation Number |
| `is_dual_type` | Boolean | Dual Type Identifier |

---

## Data Cleaning Highlights
1. **Table Joining**: Merged stats, dimensions, and evolution data by Pok√©dex number
2. **Type Parsing**: Split combined type strings into `type_1` and `type_2`
3. **Special Case Handling**:
   - **Eternatus Eternamax**: No official data exists
   - Assigned estimated dimensions based on lore: 999.9m / 9999.9kg
   - Calculated BMI = 0.01 (representing non-physical energy entity)
4. **Derived Variables**: BMI = weight(kg) / height(m)¬≤

<a href="https://pineappleeater.github.io/P8105---Final-Project-Pokemon/cleaning.html"
   target="_blank"
   style="padding: 4px 8px; border-radius: 6px; background:#fff7fb; text-decoration:none; color:#444;">
   (Click here to view the detailed cleaning process)
</a>

# Exploratory Analysis

## EDA

Our exploratory analysis aimed to understand the structure, distribution, and internal relationships of key Pok√©mon attributes before proceeding to modeling. We focused on visual diagnostics, summary statistics, and transformation-based exploration to uncover patterns that informed later methodological choices.

1. **Overview of Pok√©mon Statistics**

We began by examining the six base stats (HP, Attack, Defense, Special Attack, Special Defense, Speed) and the total Base Stat Total (BST). The histogram of BST revealed a multi-modal distribution rather than a unimodal or normal structure, suggesting intentional ‚Äútiering‚Äù in Pok√©mon design rather than random natural variation. This supported the decision to avoid parametric modeling that assumes normality when analyzing BST directly. The distributions of individual stats displayed varied shapes and ranges‚ÄîHP and Defense showing heavier right tails, Speed being more evenly spread. These differences highlighted the need to treat stats independently during later PCA and clustering steps rather than relying solely on BST.

2. **Comparing Extreme and Typical Pok√©mon**

To better understand variation in stat profiles, we created radar plots comparing one of the weakest fully evolved Pok√©mon (Wishiwashi Solo Form) with one of the strongest (Mega Rayquaza). This qualitative comparison illustrated how extreme Pok√©mon deviate from population means across all six stats, reinforcing that Pok√©mon design follows distinctive archetypes. This motivated us to later examine whether PCA would capture these archetypal differences.

3. **Physical Attributes: Height, Weight, and BMI**

Height and weight showed heavily right-skewed distributions, spanning several orders of magnitude. Applying log transformations revealed smooth, interpretable patterns, indicating biological scaling relationships similar to those observed in real animal species. The height‚Äìweight scatterplot on a log‚Äìlog scale suggested a near-linear relationship, consistent with power-law scaling. BMI contained extreme outliers (e.g., Cosmoem), so we applied a data filter to visualize the meaningful distribution. This step was necessary to prevent single outliers from compressing the rest of the data‚Äîa decision that also informed later modeling, where we excluded non-representative extreme physical measurements.

4. **Typing Structure and Prevalence**

We explored Pok√©mon type diversity by counting primary and secondary types. Water, Flying, and Psychic emerged as the most common, while combinations like Normal/Flying dominated dual-type frequencies‚Äîa pattern consistent with game design traditions. These findings justified including type as a categorical predictor in later classification models, since type prevalence clearly drives structural differences across populations. Type-based BST boxplots revealed systematic differences: Dragon and Psychic Pok√©mon possess notably higher average BST, whereas Bug and Normal types tend to be lower. This supported the hypothesis that type encodes meaningful structural information that PCA and downstream supervised learning methods could exploit.

5. **Special Categories (Legendary, Mythical, Paradox, etc.)**

A key exploratory step involved comparing Legendary vs non-Legendary Pok√©mon. A Welch‚Äôs t-test showed a highly significant difference in mean BST (>100-point gap), with Legendaries displaying much tighter and higher distributions. These differences justified treating category as a grouping variable during modeling and suggested that any predictive model involving BST must carefully consider category imbalance.

6. **Summary**

Our exploratory work revealed several insights that shaped later analysis decisions:

- Pok√©mon stats are structured, not random, with clear modes and archetypes.

- Scaling transformations (e.g., log height/weight) are necessary for meaningful visualization and PCA.

- Type and special categories encode strong statistical signals and must be included in predictive models.

- Outliers meaningfully influence physical attribute scales and must be filtered or transformed for analysis.

# Additonal Analysis

## PCA

To better understand the multivariate structure of Pok√©mon statistics and reduce dimensionality for downstream modeling, we conducted Principal Component Analysis (PCA) on standardized versions of the six base stats: HP, Attack, Defense, Special Attack, Special Defense, and Speed. Standardization was necessary because these attributes are measured on similar but not identical scales, and unscaled PCA would overweight variables with larger variance.

1. **Variance Explained and Component Selection**

The scree plot showed that the first two principal components (PCs) captured a substantial proportion of total variance, with PC1 explaining the largest share. This justified using PC1 and PC2 for visualization and exploratory clustering. While later components each explained smaller amounts of variance, the first few PCs together captured the primary axes of differentiation across Pok√©mon.

2. **Interpreting the Principal Components**

Examining the PCA loadings revealed distinct conceptual interpretations of the first two components: PC1 (Overall Power Axis): PC1 loaded positively on nearly all six stats, particularly Attack, Special Attack, and Speed. This suggests that PC1 represents a general strength or combat effectiveness dimension. Pok√©mon with high PC1 scores tend to be strong attackers or well-rounded fighters, whereas low-PC1 Pok√©mon tend to be weaker or early-stage forms. (Offense‚ÄìDefense Tradeoff Axis):displayed contrasting loadings between offensive stats (Attack, Sp. Attack) and defensive stats (Defense, Sp. Defense). Positive PC2 values correspond to defensive-oriented Pok√©mon, while negative PC2 values correspond to offense-heavy species. This axis reflects a strategic design dichotomy within the Pok√©mon universe.

3. **PCA Biplots and Group Structure**

The PCA scatterplot showed clear separation of Pok√©mon categories: Legendary and pseudo-legendary Pok√©mon cluster toward the upper-right region of the PC1‚ÄìPC2 space, reflecting both high stats and more balanced distributions. Early-game or unevolved Pok√©mon cluster near the origin, indicating uniformly low stats. Specialized attackers (e.g., glass cannons) occupy extreme negative PC2 regions, while tanks and walls appear in high-PC2 regions. These patterns confirm that Pok√©mon occupy structured roles defined by statistical profiles, and that PCA successfully captures these underlying archetypes.

4. **How PCA Informed Later Decisions**

Findings from PCA directly influenced our modeling choices: PCA revealed that the dataset contains continuous gradients, not discrete clusters, causing us to refine our original clustering approach toward soft clustering and dimensionality-informed visualization rather than strict k-means segmentation. The strong separation between Legendary and non-Legendary Pok√©mon demonstrated that category variables are highly informative, motivating us to include category as a feature in later predictive models. The identification of offense‚Äìdefense tradeoffs motivated the creation of composite metrics (e.g., offensive index, defensive index) to supplement PCA-derived insights.

5. **Summary**

Overall, PCA validated that Pok√©mon design is multidimensional and strategically structured, with clear axes representing general power and combat roles. These insights guided both model selection and feature engineering in subsequent stages of analysis.

## Rating System

Beyond exploratory data visualization and PCA, we conducted several formal statistical analyses to quantify the relationships between Pok√©mon characteristics and their computed ratings. These analyses help validate whether the rating system behaves consistently with intuitive expectations and reveal deeper structural patterns in the dataset.

1. **Linear Modeling: Predictors of Offensive and Defensive Ratings**

To evaluate which Pok√©mon attributes most strongly influence the computed ratings, we fitted two multiple linear regression models:

- Model 1: Offensive Rating ~ Attack + Special Attack + Speed + Total BST + Type (1 & 2)

- Model 2: Defensive Rating ~ HP + Defense + Special Defense + Total BST + Defensive Typing Score

These models allow us to assess how well classical stats explain the algorithm-derived ratings and whether type effects remain significant after adjusting for base stats.

**Key Findings**

Offensive ratings were most strongly predicted by:

- Special Attack (Œ≤ > Attack), suggesting special attackers are slightly favored under the effective attack formula.

- Speed, which contributes significantly through the dual-speed scoring function.

- Total BST, positively associated but with diminishing returns‚Äîreflecting the sigmoidal BST component.

Defensive ratings were driven primarily by:

- HP and combined defenses, which jointly contribute to the durability expectation metric.

- Defensive typing score, confirming that type combinations meaningfully influence outcomes beyond stats alone.

These relationships validate that our rating system appropriately incorporates both raw stats and structural game mechanics (such as typing benefits).

2. **Testing Differences Between Legendary and Non-Legendary Pok√©mon**

Given that legendary Pok√©mon intuitively should perform better, we conducted two-sample t-tests to compare:

- Mean Offensive Rating (Legendary vs Non-Legendary)

- Mean Defensive Rating (Legendary vs Non-Legendary)

- Combined Tier Score (translated from SS‚ÜíF scale into numerical values)

**Results**

- Offensive Rating: Legendary Pok√©mon had significantly higher mean offensive scores (p < 0.001).

- Defensive Rating: Similar strong separation, with legendary Pok√©mon maintaining substantially higher durability scores.

- Tier Levels: Proportions of S/SS-tier Pok√©mon were dramatically enriched among legendaries.

These results empirically confirm that the rating system captures the intended game hierarchy without artificially inflating legendary performance.

3. **Clustering Analysis: Pok√©mon Archetypes**

To examine whether Pok√©mon naturally group into meaningful ‚Äúroles,‚Äù we performed k-means clustering on standardized offensive and defensive ratings:

- k = 3 produced clear, interpretable clusters:

  - Offensive Sweepers ‚Äì high attack & speed, low bulk

  - Defensive Walls ‚Äì high HP/defenses, lower attack

  - Balanced All-Rounders

The resulting clusters aligned closely‚Äîbut not perfectly‚Äîwith the algorithm‚Äôs role classification (Offensive, Balanced, Defensive). This consistency provides independent support for the role classification framework.

4. **Correlation Structure and Redundancy Checks**

Using Pearson correlation matrices:

- Offensive rating was strongly correlated with Attack, Special Attack, and Speed‚Äîbut only moderately correlated with Total BST.

- Defensive rating showed strong correlations with HP, Defense, and Special Defense‚Äîmuch stronger than its correlation with Total BST.

- Type-based defensive effectiveness scores were only weakly correlated with raw stats, confirming they contribute unique information not captured by BST alone.

This analysis demonstrates that the constructed rating system integrates multiple dimensions without redundancy or overemphasizing any single feature.

5. **Analysis of Tier Distribution and Balance**

Using chi-square tests on the distribution of Pok√©mon across offensive/defensive roles and tiers:

- Tier distribution differed significantly across generations (p < 0.01), suggesting improvements in design balance over time.

- Types differed significantly in their probability of producing high-tier Pok√©mon (e.g., Steel and Dragon enriched in A/S tiers).

These results align with long-standing community observations about type balance and metagame centralization.

# Discussion

<div style="background: #f8f9fa; padding: 30px; border-radius: 15px; border-left: 5px solid #667eea;">

### EDA KEY FINDINGS

- **Stats Distribution**: The distribution of Pok√©mon's base stats is not normal, but rather a multi-modal distribution.
- **"Stats Monster"**: "Has Dragon Type" pokemons owns greatest mean of BST.
- **"Birds Everywhere Outside"**: Normal/Flying type Pok√©mon are the most numerous, followed by Bug/Flying type.
- **"Pok√©mon Ecology"**: Despite their exaggerated scale, Pok√©mon size distributions share a similar right-skewed shape with real animals.

### PCA Results
- First 3 components capture ~70% of variance
- PC1 represents battle effectiveness, PC2 represents physical size
- Legendary Pok√©mon clearly separated in principal component space

### Clustering Results
- 4 distinct archetypes identified
- Elite tier (high BST, 35% legendary) vs casual tier (low BST, 0% legendary)
- Balanced distribution across defensive, balanced, and offensive clusters

### Classification Results
- Random Forest achieves 99.5% AUC (near-perfect classification)
- Legendary Pok√©mon are 99% separable by base stats alone
- Total BST is the single most important feature

### Dual Rating System Benefits

1. **Separate Offensive & Defensive Evaluation**: No longer forced to choose between attacking power and tanking ability
2. **Type Synergy Recognition**: Defensive typing contributes 30% to defensive rating
3. **Mixed Attacker Support**: Algorithm recognizes both specialized and versatile attackers
4. **Speed Flexibility**: Values both fast sweepers and Trick Room users
5. **Balanced Defense Rewards**: Geometric mean prevents glass cannon defenses

### Best Type Combinations

**Offensive**: Ground, Fighting, Fire (high super-effective coverage)
**Defensive**: Steel/Fairy, Steel/Flying, Water/Ground (few weaknesses, many resistances)

</div>
