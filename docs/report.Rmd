---
title: "Report: The Story and Mystery of Pokémon — A Comprehensive Data Science Exploration"
output:
  html_document:
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: true
    toc_depth: 3
    theme: cosmo
    code_folding: hide
    self_contained: false
---
*Team Members: Leah Li (yl5828), Ruipeng Li (rl3616), Xuange Liang (xl3493), Yiwen Zhang (yz4994)* 

# Motivation
- **Dataset**: 1,025 Pokémon species across 9 generations (1996-2025)
- **Why Pokémon?**
  - Rich, structured dataset with quantitative and categorical features
  - Perfect case study for demonstrating complete data science workflow
  - Combines statistical rigor with creative exploration
  - Practical application for competitive play and team building
- **Motiviation**
The Pokémon dataset offers a rich and structured environment for applying data science methods to explore relationships between attributes, performance, and design balance. Each Pokémon is described by a variety of quantitative and categorical features—such as type, stats, generation, and legendary status—making it an excellent case study for classification, clustering, and predictive modeling. Analyzing this dataset allows us to practice fundamental data science workflows, including data cleaning, feature engineering, visualization, and model evaluation, while also addressing interesting questions such as: What characteristics make a Pokémon strong? Are legendary Pokémon statistically distinct from others? By combining statistical reasoning with creative curiosity, this project aims to turn a familiar and entertaining topic into a meaningful data-driven exploration.

# Related Work

Prior analyses of the Pokémon dataset have appeared in a variety of data science blogs, Kaggle kernels, and academic teaching materials, demonstrating its popularity as a case study for statistical learning. Kaggle’s “Complete Pokémon Dataset” has inspired numerous exploratory and predictive modeling projects that examine type advantages, stat distributions, and the distinctiveness of legendary Pokémon. Several tutorials—including those discussed in class—use this dataset to illustrate concepts such as principal component analysis, clustering, and classification algorithms due to its clean structure and intuitive domain. Additionally, online communities like Towards Data Science and r/datascience frequently feature Pokémon-themed analyses that highlight best practices in visualization, feature engineering, and model evaluation. These prior works inform our project by showcasing the dataset’s versatility and by motivating deeper investigation into what features drive Pokémon performance, balance, and design across generations.

# Initial Questions

**Core Questions:**

- **Legendary Classification**: Is it possible to build a classifier to identify legendary Pokémon?
- **Physical Attributes Analysis**: How does height and weight of a Pokémon correlate with its various base stats?
- **Type Effectiveness**: Which type (or type combination) is the strongest overall? Which is the weakest?
- **Type-Legendary Relationship**: Which type is the most likely to be a legendary Pokémon?
- **Rating System Development**: Based on Pokémon type and stats, can we provide a Pokémon rating system for beginners?

**Extended Questions:**

- **System Validation**: Does the "best" Pokémon team selected through this rating system actually match competitive standards (based on "Pokémon Masters" reviews)?
- **Team Building Utility**: Can you build a "best" Pokémon team based on this rating system? In other words, is this system reliable or useful as a reference?

# Data

| Source | Description | URL |
|--------|-------------|-----|
| **Kaggle** | Community-curated Pokémon dataset | [rounakbanik/pokemon](https://www.kaggle.com/datasets/rounakbanik/pokemon) |
| **PokémonDB** | Official stats scraped from web | [pokemondb.net](https://pokemondb.net) |
| **Veekun/PokéAPI** | Metadata & move databases | [GitHub](https://github.com/veekun/pokedex) |

## Dataset Overview

<div align="center">

| Metric | Value |
|--------|-------|
| **Species Count** | 1,025 Pokémon |
| **Generations** | Gen 1–9 (1996–2025) |
| **Features** | 30+ attributes |

</div>

## Key Variables

| Variable | Type | Description |
|----------|------|-------------|
| `dex` | Integer | National Pokédex number |
| `name` | String | Official species name |
| `type_1` / `type_2` | Categorical | Primary and secondary types |
| `total` | Integer | Base Stat Total (BST) |
| `hp` ... `speed` | Integer | Individual base stats |
| `is_legendary` | Boolean | Legendary status flag |
| `category` | Factor | Regular / Legendary / Mythical / Paradox / Ultra Beast |

---

## Web Scraping Implementation
```r
# Scraped three HTML tables from PokémonDB
raw_state_df <- read_html("data/raw-data/Pokemon.html") |> html_table()
raw_wh_df <- read_html("data/raw-data/Pokemon by height and weight.html") |> html_table()
raw_evolved_df <- read_html("data/raw-data/Pokemon fully evolved.html") |> html_table()
```

## Data Cleaning Highlights
1. **Table Joining**: Merged stats, dimensions, and evolution data by Pokédex number
2. **Type Parsing**: Split combined type strings into `type_1` and `type_2`
3. **Special Case Handling**:
   - **Eternatus Eternamax**: No official data exists
   - Assigned estimated dimensions based on lore: 999.9m / 9999.9kg
   - Calculated BMI = 0.01 (representing non-physical energy entity)
4. **Derived Variables**: BMI = weight(kg) / height(m)²

## Final Clean Dataset
- **Dimensions**: 1,025 rows × 14 core columns
- **Variables**: 
  - `dex` (National Pokédex #), `name`, `type_1`, `type_2`
  - Base stats: `hp`, `attack`, `defense`, `sp_atk`, `sp_def`, `speed`, `total`
  - Physical: `height_m`, `weight_kgs`, `bmi`
- **Output**: `pokemon_data.csv`

# Exploratory Analysis

## EDA

Our exploratory analysis aimed to understand the structure, distribution, and internal relationships of key Pokémon attributes before proceeding to modeling. We focused on visual diagnostics, summary statistics, and transformation-based exploration to uncover patterns that informed later methodological choices.

1. **Overview of Pokémon Statistics**

- We began by examining the six base stats (HP, Attack, Defense, Special Attack, Special Defense, Speed) and the total Base Stat Total (BST). The histogram of BST revealed a multi-modal distribution rather than a unimodal or normal structure, suggesting intentional “tiering” in Pokémon design rather than random natural variation. This supported the decision to avoid parametric modeling that assumes normality when analyzing BST directly.

- The distributions of individual stats displayed varied shapes and ranges—HP and Defense showing heavier right tails, Speed being more evenly spread. These differences highlighted the need to treat stats independently during later PCA and clustering steps rather than relying solely on BST.

2. **Comparing Extreme and Typical Pokémon**

- To better understand variation in stat profiles, we created radar plots comparing one of the weakest fully evolved Pokémon (Wishiwashi Solo Form) with one of the strongest (Mega Rayquaza). This qualitative comparison illustrated how extreme Pokémon deviate from population means across all six stats, reinforcing that Pokémon design follows distinctive archetypes. This motivated us to later examine whether PCA would capture these archetypal differences.

3. **Physical Attributes: Height, Weight, and BMI**

- Height and weight showed heavily right-skewed distributions, spanning several orders of magnitude. Applying log transformations revealed smooth, interpretable patterns, indicating biological scaling relationships similar to those observed in real animal species. The height–weight scatterplot on a log–log scale suggested a near-linear relationship, consistent with power-law scaling.

- BMI contained extreme outliers (e.g., Cosmoem), so we applied a data filter to visualize the meaningful distribution. This step was necessary to prevent single outliers from compressing the rest of the data—a decision that also informed later modeling, where we excluded non-representative extreme physical measurements.

4. **Typing Structure and Prevalence**

- We explored Pokémon type diversity by counting primary and secondary types. Water, Flying, and Psychic emerged as the most common, while combinations like Normal/Flying dominated dual-type frequencies—a pattern consistent with game design traditions. These findings justified including type as a categorical predictor in later classification models, since type prevalence clearly drives structural differences across populations.

- Type-based BST boxplots revealed systematic differences: Dragon and Psychic Pokémon possess notably higher average BST, whereas Bug and Normal types tend to be lower. This supported the hypothesis that type encodes meaningful structural information that PCA and downstream supervised learning methods could exploit.

5. **Special Categories (Legendary, Mythical, Paradox, etc.)**

- A key exploratory step involved comparing Legendary vs non-Legendary Pokémon. A Welch’s t-test showed a highly significant difference in mean BST (>100-point gap), with Legendaries displaying much tighter and higher distributions. These differences justified treating category as a grouping variable during modeling and suggested that any predictive model involving BST must carefully consider category imbalance.

6. **Summary**

- Our exploratory work revealed several insights that shaped later analysis decisions:

  - Pokémon stats are structured, not random, with clear modes and archetypes.

  - Scaling transformations (e.g., log height/weight) are necessary for meaningful visualization and PCA.

  - Type and special categories encode strong statistical signals and must be included in predictive models.

  - Outliers meaningfully influence physical attribute scales and must be filtered or transformed for analysis.

Collectively, the EDA provided the foundation for choosing dimensionality-reduction techniques, designing classification tasks, and constructing a rating metric that reflects Pokémon balance and design structure.

## PCA

To better understand the multivariate structure of Pokémon statistics and reduce dimensionality for downstream modeling, we conducted Principal Component Analysis (PCA) on standardized versions of the six base stats: HP, Attack, Defense, Special Attack, Special Defense, and Speed. Standardization was necessary because these attributes are measured on similar but not identical scales, and unscaled PCA would overweight variables with larger variance.

1. **Variance Explained and Component Selection**

- The scree plot showed that the first two principal components (PCs) captured a substantial proportion of total variance, with PC1 explaining the largest share. This justified using PC1 and PC2 for visualization and exploratory clustering. While later components each explained smaller amounts of variance, the first few PCs together captured the primary axes of differentiation across Pokémon.

2. **Interpreting the Principal Components**

- Examining the PCA loadings revealed distinct conceptual interpretations of the first two components:

  - PC1 (Overall Power Axis):
    - PC1 loaded positively on nearly all six stats, particularly Attack, Special Attack, and Speed. This suggests that PC1 represents a general strength or combat effectiveness dimension. Pokémon with high PC1 scores tend to be strong attackers or well-rounded fighters, whereas low-PC1 Pokémon tend to be weaker or early-stage forms.

  - (Offense–Defense Tradeoff Axis):
    - displayed contrasting loadings between offensive stats (Attack, Sp. Attack) and defensive stats (Defense, Sp. Defense). Positive PC2 values correspond to defensive-oriented Pokémon, while negative PC2 values correspond to offense-heavy species. This axis reflects a strategic design dichotomy within the Pokémon universe.

3. **PCA Biplots and Group Structure**

- The PCA scatterplot showed clear separation of Pokémon categories:

  - Legendary and pseudo-legendary Pokémon cluster toward the upper-right region of the PC1–PC2 space, reflecting both high stats and more balanced distributions.

  - Early-game or unevolved Pokémon cluster near the origin, indicating uniformly low stats.

  - Specialized attackers (e.g., glass cannons) occupy extreme negative PC2 regions, while tanks and walls appear in high-PC2 regions.

These patterns confirm that Pokémon occupy structured roles defined by statistical profiles, and that PCA successfully captures these underlying archetypes.

4. **How PCA Informed Later Decisions**

- Findings from PCA directly influenced our modeling choices:

  - PCA revealed that the dataset contains continuous gradients, not discrete clusters, causing us to refine our original clustering approach toward soft clustering and dimensionality-informed visualization rather than strict k-means segmentation.

  - The strong separation between Legendary and non-Legendary Pokémon demonstrated that category variables are highly informative, motivating us to include category as a feature in later predictive models.

  - The identification of offense–defense tradeoffs motivated the creation of composite metrics (e.g., offensive index, defensive index) to supplement PCA-derived insights.

5. **Summary**

- Overall, PCA validated that Pokémon design is multidimensional and strategically structured, with clear axes representing general power and combat roles. These insights guided both model selection and feature engineering in subsequent stages of analysis.