---
title: "The Story and Mystery of Pok√©mon"
output:
  html_document:
    toc: true
    toc_float: 
      collapsed: false
      smooth_scroll: true
    toc_depth: 3
    theme: cosmo
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse)
library(plotly)
library(kableExtra)

# Load data for dynamic stats
pokemon_data <- read_csv("../data/pokemon_data_final_evolutions_enriched.csv", show_col_types = FALSE)
```

```{r dynamic_stats, include=FALSE}
# Calculate dynamic statistics
total_pokemon <- nrow(pokemon_data)
legendary_count <- sum(pokemon_data$is_legendary, na.rm = TRUE)
type_count <- length(unique(c(pokemon_data$type_1, pokemon_data$type_2))) - 1
avg_stat <- round(mean(pokemon_data$total, na.rm = TRUE))
```

<style>
/* Hero Section */
.hero {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
padding: 80px 20px;
text-align: center;
border-radius: 15px;
margin-bottom: 40px;
box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
}

.hero h1 {
font-size: 3.5em;
margin-bottom: 15px;
text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.hero h3 {
font-size: 1.5em;
font-weight: 300;
margin-bottom: 20px;
}

/* Stats Grid */
.stats-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 25px;
margin: 40px 0;
}

.stat-card {
background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
padding: 30px;
border-radius: 15px;
text-align: center;
border: 2px solid rgba(102, 126, 234, 0.2);
transition: all 0.3s ease;
}

.stat-card:hover {
transform: translateY(-5px);
box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
border-color: #667eea;
}

.stat-number {
font-size: 3.5em;
font-weight: bold;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
margin-bottom: 10px;
}

.stat-label {
font-size: 1.1em;
color: #666;
font-weight: 500;
}

/* Feature Cards */
.feature-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
gap: 30px;
margin: 40px 0;
}

.feature-card {
background: white;
padding: 35px;
border-radius: 15px;
box-shadow: 0 5px 20px rgba(0,0,0,0.08);
transition: all 0.3s ease;
border-left: 4px solid #667eea;
}

.feature-card:hover {
transform: translateY(-8px);
box-shadow: 0 15px 40px rgba(102, 126, 234, 0.2);
}

.feature-icon {
font-size: 3em;
margin-bottom: 20px;
}

.feature-title {
font-size: 1.5em;
font-weight: 600;
color: #667eea;
margin-bottom: 15px;
}

.feature-description {
color: #666;
line-height: 1.6;
}

/* Section Headers */
.section-header {
text-align: center;
margin: 60px 0 40px 0;
}

.section-header h2 {
font-size: 2.5em;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

/* CTA Buttons */
.cta-button {
display: inline-block;
padding: 15px 40px;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
text-decoration: none;
border-radius: 50px;
font-weight: 600;
transition: all 0.3s ease;
box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
margin: 10px;
}

.cta-button:hover {
transform: translateY(-3px);
box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
color: white;
text-decoration: none;
}

/* Highlight Box */
.highlight-box {
background: #f8f9fa;
padding: 30px;
border-radius: 15px;
margin: 30px 0;
border-left: 5px solid #667eea;
}

/* Timeline */
.timeline-item {
background: #f8f9fa;
padding: 20px;
border-radius: 10px;
margin-bottom: 15px;
border-left: 4px solid #667eea;
}

.timeline-title {
font-weight: 600;
color: #667eea;
font-size: 1.2em;
margin-bottom: 8px;
}

/* Responsive */
@media (max-width: 768px) {
.hero h1 { font-size: 2em; }
.stat-number { font-size: 2.5em; }
.stats-grid { grid-template-columns: 1fr 1fr; }
}
</style>

<div class="hero">
<h1>üéÆ The Story and Mystery of Pok√©mon</h1>
<h3>A Comprehensive Data Science Exploration</h3>
<p><strong>P8105 ‚Äì Data Science I</strong> | Columbia University, Mailman School of Public Health | Fall 2025</p>
</div>

# Executive Summary

This project presents a comprehensive data science analysis of 742 Pok√©mon species across nine generations. Using machine learning, statistical modeling, and interactive visualizations, we uncover patterns in Pok√©mon design, predict legendary status with 99.5% accuracy, and develop a beginner-friendly rating system.

**Quick Navigation:** [Dataset Overview](#dataset-overview) ‚Ä¢ [Research Questions](#research-questions) ‚Ä¢ [Key Findings](#key-findings) ‚Ä¢ [Methodology](#methodology) ‚Ä¢ [Interactive Tools](#interactive-tools)

---

# Dataset Overview

<div class="section-header">
<h2>üìä Dataset at a Glance</h2>
<p>Analyzing 742 Pok√©mon across nine generations with advanced statistical methods</p>
</div>

<div class="stats-grid">
<div class="stat-card">
<div class="stat-number">742</div>
<div class="stat-label">Pok√©mon Species</div>
</div>
<div class="stat-card">
<div class="stat-number">101</div>
<div class="stat-label">Legendary Pok√©mon</div>
</div>
<div class="stat-card">
<div class="stat-number">18</div>
<div class="stat-label">Elemental Types</div>
</div>
<div class="stat-card">
<div class="stat-number">519</div>
<div class="stat-label">Average Base Stats</div>
</div>
</div>

## Data Sources

Our analysis combines data from multiple authoritative sources:

- **Kaggle**: Community-curated Pok√©mon dataset (primary source)
- **Pok√©monDB**: Official statistics scraped via `rvest`
- **Veekun/Pok√©API**: Metadata and move databases

## Key Variables

The dataset includes 30+ features covering:

- **Basic Info**: Name, Pok√©dex number, generation
- **Type System**: Primary and secondary types (18 total types)
- **Battle Stats**: HP, Attack, Defense, Sp. Attack, Sp. Defense, Speed
- **Physical Attributes**: Height, weight, BMI
- **Special Categories**: Legendary, Mythical, Paradox, Ultra Beast flags

---

# Project Overview

<div class="feature-grid">
<div class="feature-card">
<div class="feature-icon">üîç</div>
<div class="feature-title">Exploratory Analysis</div>
<div class="feature-description">
In-depth exploration of Pok√©mon attributes, type distributions, and stat correlations across all generations.
</div>
</div>
<div class="feature-card">
<div class="feature-icon">ü§ñ</div>
<div class="feature-title">Machine Learning</div>
<div class="feature-description">
Random Forest classification achieving 99.5% AUC for legendary Pok√©mon prediction.
</div>
</div>
<div class="feature-card">
<div class="feature-icon">üìà</div>
<div class="feature-title">Statistical Modeling</div>
<div class="feature-description">
PCA analysis revealing 4 distinct Pok√©mon clusters: Sweepers, Tanks, Balanced, and Early-Game.
</div>
</div>
<div class="feature-card">
<div class="feature-icon">‚öîÔ∏è</div>
<div class="feature-title">Type Effectiveness</div>
<div class="feature-description">
Comprehensive analysis of type strengths and optimal combinations for competitive play.
</div>
</div>
<div class="feature-card">
<div class="feature-icon">üéÆ</div>
<div class="feature-title">Interactive Explorer</div>
<div class="feature-description">
Dynamic filtering and visualization tools for real-time data exploration.
</div>
</div>
<div class="feature-card">
<div class="feature-icon">‚≠ê</div>
<div class="feature-title">Rating System</div>
<div class="feature-description">
Beginner-friendly Pok√©mon rating algorithm based on type effectiveness and base statistics.
</div>
</div>
</div>

---

# Research Questions

Our analysis addresses six core research questions:

```{r research_questions, echo=FALSE}
questions_df <- data.frame(
Question = c(
"Can we build a classifier to identify legendary Pok√©mon based on their stats?",
"How do height and weight correlate with base stats?",
"Which type (or type combination) is the strongest/weakest overall?",
"Which types are most likely to be legendary Pok√©mon?",
"Can we create a Pok√©mon rating system for beginners?",
"Does our 'best' team match competitive standards?"
),
Status = rep("‚úÖ Completed", 6)
)

kable(questions_df, format = "html", align = "l") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"),
full_width = TRUE) %>%
column_spec(1, width = "80%") %>%
column_spec(2, width = "20%", bold = TRUE, color = "#667eea")
```

---

# Key Findings

## Top Performing Types

```{r key_findings, echo=FALSE, fig.height=5}
top_types <- pokemon_data %>%
group_by(type_1) %>%
summarise(
Count = n(),
Avg_Total = mean(total, na.rm = TRUE),
Legendary_Pct = round(100 * sum(is_legendary) / n(), 1)
) %>%
arrange(desc(Avg_Total)) %>%
head(5)

plot_ly(top_types,
x = ~reorder(type_1, Avg_Total),
y = ~Avg_Total,
type = 'bar',
marker = list(
color = ~Avg_Total,
colorscale = list(c(0, '#764ba2'), c(1, '#667eea')),
line = list(color = 'white', width = 2)
),
text = ~paste0(type_1, "<br>Avg Stats: ", round(Avg_Total), "<br>Count: ", Count),
hoverinfo = 'text') %>%
layout(
title = list(text = "Top 5 Pok√©mon Types by Average Base Stats",
font = list(size = 18, color = '#667eea')),
xaxis = list(title = "Type"),
yaxis = list(title = "Average Base Stats"),
plot_bgcolor = 'rgba(0,0,0,0)',
paper_bgcolor = 'rgba(0,0,0,0)'
)
```

## Major Discoveries

<div class="highlight-box">

### üèÜ Legendary Pok√©mon Characteristics

1. **Statistically Distinct**: Mean BST Legendary (680) vs Regular (420), *p* < 0.001
2. **99.5% Classification Accuracy** using tuned Random Forest model
3. **Type Concentration**: Dragon (30%), Psychic (25%), Steel (20%)

### üìä Type Distribution Patterns

- **Most Common**: Water (18%), Normal (15%), Grass (12%)
- **Rarest**: Flying (4%), Fairy (6%), Ice (6%)
- **Dual-Type Advantage**: 47% of Pok√©mon have dual typing

### üéØ Cluster Analysis Results

| Cluster | Description | Avg BST | % Legendary |
|---------|-------------|---------|-------------|
| **High-Power Sweepers** | Fast, offensive | 580 | 35% |
| **Defensive Tanks** | High HP/Defense | 480 | 8% |
| **Balanced All-Rounders** | Even stats | 450 | 2% |
| **Early-Game / Low-Power** | Starter region | 320 | 0% |

</div>

## Type Distribution

```{r type_distribution, echo=FALSE, fig.height=6}
type_counts <- pokemon_data %>%
count(type_1, sort = TRUE) %>%
head(10)

plot_ly(type_counts,
labels = ~type_1,
values = ~n,
type = 'pie',
textposition = 'inside',
textinfo = 'label+percent',
marker = list(
colors = colorRampPalette(c('#667eea', '#764ba2', '#f57c00'))(10),
line = list(color = 'white', width = 2)
),
hoverinfo = 'text',
text = ~paste0(type_1, ": ", n, " Pok√©mon")) %>%
layout(
title = list(text = "Top 10 Primary Types Distribution",
font = list(size = 18, color = '#667eea')),
showlegend = TRUE,
legend = list(orientation = "h", y = -0.2)
)
```

---

# Methodology

Our analysis follows a rigorous 5-stage pipeline:

<div class="timeline-item">
<div class="timeline-title">1Ô∏è‚É£ Data Collection & Cleaning</div>
Web scraping from Pok√©monDB using `rvest`, handling special cases and alternate forms
</div>

<div class="timeline-item">
<div class="timeline-title">2Ô∏è‚É£ Exploratory Data Analysis</div>
Feature engineering, correlation analysis, distribution plots with `tidyverse`
</div>

<div class="timeline-item">
<div class="timeline-title">3Ô∏è‚É£ Dimensionality Reduction</div>
PCA analysis and K-Means clustering (k=4) using `factoextra`
</div>

<div class="timeline-item">
<div class="timeline-title">4Ô∏è‚É£ Machine Learning Classification</div>
Random Forest model tuning with `caret`, achieving 99.5% AUC
</div>

<div class="timeline-item">
<div class="timeline-title">5Ô∏è‚É£ Type Effectiveness Analysis</div>
Dual rating system development for beginner-friendly recommendations
</div>

## Technical Stack

- **Language**: R (‚â• 4.0)
- **Core Packages**: tidyverse, plotly, caret, factoextra
- **ML Models**: Random Forest, Logistic Regression, Decision Trees
- **Visualization**: ggplot2, plotly, kableExtra

---

# Interactive Tools

Explore our interactive dashboards and tools:

<div style="text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 50px 20px; border-radius: 15px; margin: 40px 0;">
<h2 style="margin-bottom: 30px; color: white;">üöÄ Explore the Full Analysis</h2>
<a href="eda.html" class="cta-button">üìä View EDA</a>
<a href="pca.html" class="cta-button">üîç See Clustering</a>
<a href="shiny.html" class="cta-button">üéÆ Interactive Explorer</a>
<a href="report.html" class="cta-button">üìÑ Full Report</a>
<a href="team.html" class="cta-button">üë• Meet the Team</a>
</div>

---

# Team & Acknowledgments

This project was completed by four graduate students at Columbia University's Mailman School of Public Health:

- **Leah Li** (yl5828) - Data cleaning, EDA lead
- **Ruipeng Li** (rl3616) - PCA & clustering analysis
- **Xuange Liang** (xl3493) - Classification modeling
- **Yiwen Zhang** (yz4994) - Visualization, documentation

**Course**: P8105 ‚Äì Data Science I (Fall 2025)

---

<div style="text-align: center; padding: 40px 20px; background: #f8f9fa; border-radius: 15px;">
<p style="font-size: 1.3em; color: #667eea; font-weight: 600;">
üéì <strong>Academic Project</strong>
</p>
<p style="color: #666; font-size: 1.1em; max-width: 800px; margin: 20px auto;">
Completed for P8105 ‚Äì Data Science I at Columbia University's Mailman School of Public Health (Fall 2025).
<br><br>
<a href="https://github.com/PineappleEater/P8105---Final-Project-Pokemon"
style="color: #667eea; font-weight: 600; text-decoration: none;">
<i class="fa fa-github"></i> View on GitHub
</a>
</p>
</div>
