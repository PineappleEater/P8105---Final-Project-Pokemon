---
title: "Pokemon EDA - Exploratory Data Analysis"
output:
  html_document:
    theme: cosmo
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: true
    toc_depth: 2
    code_folding: hide
    self_contained: false
knit: (function(input, ...) {
    rmarkdown::render(
      input,
      output_file = "2-eda.html",
      output_dir = "reports"
    )
  })
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.width = 10,
  fig.height = 6
)
```

```{r libraries}
library(tidyverse)
library(ggplot2)
library(knitr)
library(fmsb)

# Set ggplot theme
theme_set(theme_minimal(base_size = 12))

# Check for optional packages
has_corrplot <- requireNamespace("corrplot", quietly = TRUE)
has_patchwork <- requireNamespace("patchwork", quietly = TRUE)
has_kableExtra <- requireNamespace("kableExtra", quietly = TRUE)

if (has_patchwork) library(patchwork)
```

```{r load-data, include=FALSE}
# Load enriched dataset - FINAL EVOLUTIONS ONLY with all features pre-computed
# Features include: category labels, generation, type one-hot encoding, is_dual_type
pokemon_df <- read_csv("data/pokemon_data_final_evolutions_enriched.csv")

# Restore factor levels (lost during CSV export)
pokemon_df$generation <- factor(pokemon_df$generation,
  levels = paste0("Gen ", 1:9)
)
pokemon_df$category <- factor(pokemon_df$category,
  levels = c("Regular", "Legendary", "Mythical", "Paradox", "Ultra Beast")
)

# Apply Factor Order
type_order <- c(
  "Normal","Fire","Water","Electric","Grass","Ice",
  "Fighting","Poison","Ground","Flying","Psychic","Bug",
  "Rock","Ghost","Dragon","Dark","Steel","Fairy"
)

pokemon_df$type_1 <- factor(pokemon_df$type_1, levels = type_order)
pokemon_df$type_2 <- factor(pokemon_df$type_2, levels = type_order)
```

# Overview

<div style="text-align: center; margin: 20px 0;">
<img src="assets/sprites/gif/wishiwashi-solo-form.gif" width="40" alt="Wishiwashi-solo-form" style="margin: 0 8px;">
<img src="assets/sprites/gif/alcremie.gif" width="40" alt="Alcremie" style="margin: 0 8px;">
<img src="assets/sprites/gif/cinccino.gif" width="70" alt="Cinccino" style="margin: 0 8px;">
<img src="assets/sprites/gif/sprigatito.gif" width="40" alt="Sprigatito" style="margin: 0 8px;">
<img src="assets/sprites/gif/pheromosa.gif" width="70" alt="Pheromosa" style="margin: 0 8px;">
<img src="assets/sprites/gif/gardevoir-mega-gardevoir.gif" width="70" alt="Mega-Gardevoir" style="margin: 0 8px;">
<img src="assets/sprites/gif/diancie-mega-diancie.gif" width="95" alt="Mega-Diancie" style="margin: 0 8px;">
<img src="assets/sprites/gif/rayquaza-mega-rayquaza.gif" width="95" alt="Mega-Rayquaza" style="margin: 0 8px;">
</div>

This page shows a cozy little collection of visualizations for all major **Pok√©mon stats** ‚Äî including the **six base stats (BST)** of **fully-evolved Pok√©mon** from all nine generations, plus their **height**, **weight**, and **BMI**„ÄÇ

# Stats Analysis

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0;">
<div style="padding: 20px; background: linear-gradient(135deg, #F7D44A 0%, #2cd95c 50%, #F7D44A 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$total, na.rm = TRUE)` - `r max(pokemon_df$total, na.rm = TRUE)`</div>
<div>Pok√©mon Base Stat Total</div>
<div>Mean: `r round(mean(pokemon_df$total, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$hp, na.rm = TRUE)` - `r max(pokemon_df$hp, na.rm = TRUE)`</div>
<div>Pok√©mon Hit Points</div>
<div>Mean: `r round(mean(pokemon_df$hp, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$attack, na.rm = TRUE)` - `r max(pokemon_df$attack, na.rm = TRUE)`</div>
<div>Attack</div>
<div>Mean: `r round(mean(pokemon_df$attack, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$defense, na.rm = TRUE)` - `r max(pokemon_df$defense, na.rm = TRUE)`</div>
<div>Defense</div>
<div>Mean: `r round(mean(pokemon_df$defense, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #f76b1c 0%, #fcb045 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$sp_atk, na.rm = TRUE)` - `r max(pokemon_df$sp_atk, na.rm = TRUE)`</div>
<div>Special Attack</div>
<div>Mean: `r round(mean(pokemon_df$sp_atk, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$sp_def, na.rm = TRUE)` - `r max(pokemon_df$sp_def, na.rm = TRUE)`</div>
<div>Special Defense</div>
<div>Mean: `r round(mean(pokemon_df$sp_def, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #fceabb 0%, #f8b500 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$speed, na.rm = TRUE)` - `r max(pokemon_df$speed, na.rm = TRUE)`</div>
<div>Speed</div>
<div>Mean: `r round(mean(pokemon_df$speed, na.rm = TRUE),2)`</div>
</div>
</div>

---

## Base Stat Total Distribution

```{r total-dist}
# Overall distribution
p1 <- ggplot(pokemon_df, aes(x = total)) +
  geom_histogram(bins = 40, fill = "steelblue", alpha = 0.7) +
  geom_vline(aes(xintercept = mean(total, na.rm = TRUE)),
    color = "red", linetype = "dashed", size = 1
  ) +
  labs(
    title = "Distribution of Base Stat Total (BST)",
    subtitle = paste("Mean:", round(mean(pokemon_df$total, na.rm = TRUE), 1)),
    x = "Total BST", y = "Count"
  )

p2 <- ggplot(pokemon_df, aes(x = total, fill = category)) +
  geom_density(alpha = 0.5) +
  scale_fill_brewer(palette = "Set2") +
  labs(
    title = "BST Distribution by Category",
    x = "Total BST", y = "Density", fill = "Category"
  )

if (has_patchwork) {
  p1 / p2
} else {
  print(p1)
  print(p2)
}
```

üåü **Finding**: 
BST shows a multi-modal distribution with noticeable right skewness,  
indicating structured stat tiers rather than a continuous normal process.  

This becomes more apparent in the ‚ÄúBST Distribution by Category‚Äù visualization.
The Base Stat Totals of non-regular Pok√©mon cluster tightly around specific values,
reflecting the intentional tiering in Pok√©mon design.

## Individual Stat Distributions

```{r stat-distributions}
stat_cols <- c("hp", "attack", "defense", "sp_atk", "sp_def", "speed")

pokemon_long <- pokemon_df |>
  select(dex, name, category, all_of(stat_cols)) |>
  pivot_longer(
    cols = all_of(stat_cols),
    names_to = "stat",
    values_to = "value"
  )

ggplot(pokemon_long, aes(x = value, fill = stat)) +
  geom_histogram(bins = 30, alpha = 0.7) +
  facet_wrap(~stat, scales = "free_y") +
  scale_fill_brewer(palette = "Set3") +
  labs(
    title = "Distribution of Individual Base Stats",
    x = "Stat Value", y = "Count"
  ) +
  theme(legend.position = "none")
```

### Lowest<img src="assets/sprites/gif/wishiwashi-solo-form.gif" width="40" alt="Wishiwashi-solo-form" style="margin: 0 8px;"> vs. Highest<img src="assets/sprites/gif/rayquaza-mega-rayquaza.gif" width="95" alt="Charizard" style="margin: 0 8px;">(Outer Max by Mean of each stats)

```{r}
stats_cols <- c("hp", "attack", "defense", "speed", "sp_def", "sp_atk")

p1 <- pokemon_df |> filter(name == "Wishiwashi Solo Form") |> select(all_of(stats_cols))
p2 <- pokemon_df |> filter(name == "Mega Rayquaza") |> select(all_of(stats_cols))

# Set Max
max_row <- pokemon_df |>
  summarise(across(all_of(stats_cols), ~ mean(.x, na.rm = TRUE)))
min_row <- rep(0, length(stats_cols))

radar_data <- rbind(max_row, min_row, p1, p2)
rownames(radar_data) <- c("Max", "Min", "Wishiwashi Solo Form", "Mega Rayquaza")

# Plot
radarchart(radar_data,
           axistype = 1,
           pcol = c("#4FACFE", "#007F3A"),
           pfcol = adjustcolor(c("#4FACFE", "#007F3A"), alpha.f = 0.3),
           plwd = 3,
           plty = 1,
           cglcol = "grey", 
           cglty = 1,
  )
legend("topright", legend = c("Wishiwashi Solo Form", "Mega Rayquaza"),
       col = c("#4FACFE", "#007F3A"), pch = 19, bty = "n")

```

## Physical Attributes

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0;">
<div style="padding: 20px; background: linear-gradient(135deg, #a1ffce 0%, #faffd1 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$height_m, na.rm = TRUE)` - `r max(pokemon_df$height_m, na.rm = TRUE)`</div>
<div>Pok√©mon Height</div>
<div>Mean: `r round(mean(pokemon_df$height_m, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$weight_kgs, na.rm = TRUE)` - `r max(pokemon_df$weight_kgs, na.rm = TRUE)`</div>
<div>Pok√©mon Weight</div>
<div>Mean: `r round(mean(pokemon_df$weight_kgs, na.rm = TRUE),2)`</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #e3a1ff 0%, #ffedbc 100%); border-radius: 15px; color: white;">
<div style="font-size: 2em; font-weight: bold;">`r min(pokemon_df$bmi, na.rm = TRUE)` - `r max(pokemon_df$bmi, na.rm = TRUE)`</div>
<div>Body Mass Index</div>
<div>Mean: `r round(mean(pokemon_df$bmi, na.rm = TRUE),2)`</div>
</div>
</div>

---

```{r physical-dist}
p1 <- ggplot(pokemon_df, aes(x = height_m)) +
  geom_histogram(bins = 40, fill = "darkgreen", alpha = 0.7) +
  scale_x_log10() +
  labs(
    title = "Height Distribution (log scale)",
    x = "Height (m)", y = "Count"
  )

p2 <- ggplot(pokemon_df, aes(x = weight_kgs)) +
  geom_histogram(bins = 40, fill = "darkorange", alpha = 0.7) +
  scale_x_log10() +
  labs(
    title = "Weight Distribution (log scale)",
    x = "Weight (kg)", y = "Count"
  )

p3 <- pokemon_df |>
  filter(bmi < 1000) |> # Filter extreme outliers (Cosmoem BMI=99990)
  # otherwise the plot will be severly compressed
  ggplot(aes(x = bmi)) +
  geom_histogram(bins = 40, fill = "purple", alpha = 0.7) +
  labs(
    title = "BMI Distribution (filtered < 1000)",
    subtitle = "Note: Cosmoem (BMI=99,990) excluded as extreme outlier",
    x = "BMI", y = "Count"
  )

if (has_patchwork) {
  (p1 | p2) / p3
} else {
  print(p1)
  print(p2)
  print(p3)
}
```

üåü **Height Distribution (log scale)**  
Most Pok√©mon heights follow a right-skewed distribution, with the majority falling between 0.5 and 2 meters. The log scale reveals the dense clustering of small to medium-sized Pok√©mon that would otherwise be compressed on a linear axis.

üåü **Weight Distribution (log scale)**  
Pok√©mon weights span several orders of magnitude‚Äîfrom lightweight species to multi-ton legendaries. Using a log scale highlights this exponential spread and makes the central pattern easier to interpret.

üåü **BMI Distribution (filtered < 1000)**  
After removing extreme outliers (e.g., Cosmoem), Pok√©mon BMI values primarily fall between 0 and 60. The distribution is heavily right-skewed, with a long tail representing unusually dense species.

### Weight vs. Height

```{r height-weight}
ggplot(pokemon_df, aes(x = height_m, y = weight_kgs, color = type_1)) +
  geom_point(alpha = 0.6, size = 2) +
  scale_x_log10() +
  scale_y_log10() +
  geom_smooth(method = "lm", se = FALSE, color = "black") +
  labs(
    title = "Height vs Weight (log-log scale)",
    x = "Height (m)", y = "Weight (kg)", color = "Primary Type"
  ) +
  theme(legend.position = "right")
```

üåü **Height vs. Weight (log‚Äìlog scale)**  
On a log‚Äìlog scale, height and weight exhibit a near-linear relationship, suggesting that Pok√©mon size roughly follows a power-law growth pattern. Although different typings scatter around the trend line, they generally follow the same underlying scaling behavior.

**Summary**: Overall, these physical metrics show that Pok√©mon exhibit highly varied body structures, but they still follow consistent biological scaling patterns when viewed under appropriate transformations.

# Type Analysis  

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0;">
<div style="padding: 20px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">18</div>
<div>Total Different Types</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">171</div>
<div>Total Type Combination(Includ Mono-type)</div>
</div>
</div>

---

## Type Distribution

```{r type-counts}
# Official Type Color
type_colors <- c(
  Normal   = "#A8A77A",
  Fire     = "#EE8130",
  Water    = "#6390F0",
  Electric = "#F7D02C",
  Grass    = "#7AC74C",
  Ice      = "#96D9D6",
  Fighting = "#C22E28",
  Poison   = "#A33EA1",
  Ground   = "#E2BF65",
  Flying   = "#A98FF3",
  Psychic  = "#F95587",
  Bug      = "#A6B91A",
  Rock     = "#B6A136",
  Ghost    = "#735797",
  Dragon   = "#6F35FC",
  Dark     = "#705746",
  Steel    = "#B7B7CE",
  Fairy    = "#D685AD"
)

# Types(Normal+Fly will both count to Normal and Flying type)
p1 <- pokemon_df |>
  pivot_longer(
    cols = c(type_1, type_2),
    names_to = "slot",
    values_to = "type"
  ) |>
  filter(!is.na(type)) |>
  count(type, sort = TRUE) |>
  head(10) |>
  ggplot(aes(x = reorder(type, n), y = n, fill = type)) +
  geom_col(alpha = 0.8) +
  scale_fill_manual(values = type_colors) +
  coord_flip() +
  labs(title = "Top 10 Types", x = "Type", y = "Count") +
  theme(legend.position = "none")

# Dual-type proportion
p2 <- pokemon_df |>
  count(is_dual_type) |>
  mutate(label = if_else(is_dual_type, "Dual-type", "Mono-type")) |>
  ggplot(aes(x = "", y = n, fill = label)) +
  geom_col(width = 1) +
  coord_polar("y") +
  labs(title = "Mono-type vs Dual-type", fill = "") +
  theme_void()

if (has_patchwork) {
  p1 | p2
} else {
  print(p1)
  print(p2)
}
```

üåü **Top 10 Types (Based on ‚Äúhas this type‚Äù counting rule)**

**Note**: Since each Pok√©mon is counted once for every type it possesses, dual-type Pok√©mon contribute to **both** of their typings. Under this rule, the ranking reflects overall type prevalence in the **entire Pok√©dex**, not the number of Pok√©mon with exclusive types.

**Key observations**:  
*‚úî 1. Water is the most common type overall*

Water appears on the largest number of Pok√©mon, which aligns with franchise design‚Äîmany species are water-based, and almost every generation introduces a substantial number of aquatic Pok√©mon.

*‚úî 2. Psychic and Flying follow closely*

Psychic appears unusually often because many legendaries and special-form Pok√©mon use it.

Flying is common because many Normal/Flying combinations exist, and Flying is frequently used as a secondary type.

*‚úî 3. ‚ÄúClassic‚Äù base types like Normal and Grass also remain very common*

These types are widely used for early-route Pok√©mon or basic evolutionary stages.

*‚úî 4. Rarer types (Steel, Dark, Dragon) appear less frequently but still within top 10*

Their lower counts reflect intentional design scarcity, especially Dragon and Steel, which tend to be reserved for special or powerful Pok√©mon.

### Type Combinations

```{r type-combos}
# Top type combinations
pokemon_df |>
  filter(!is.na(type_2)) |>
  count(type_1, type_2, sort = TRUE) |>
  head(15) |>
  mutate(combo = paste(type_1, "/", type_2)) |>
  ggplot(aes(x = reorder(combo, n), y = n, fill = type_1)) +
  geom_col(alpha = 0.8) +
  scale_fill_manual(values = type_colors) +
  coord_flip() +
  labs(
    title = "Top 15 Type Combinations",
    x = "Type Combination", y = "Count"
  ) +
   theme(legend.position = "none")
```  
*Clearly, the Normal/Flying ‚Äústarter bird‚Äù tradition is alive and well.*

## Stats by Type

```{r stats-by-type}
# Get types ranking
top_types <- pokemon_df |>
  pivot_longer(
    cols = c(type_1, type_2),
    names_to = "slot",
    values_to = "type"
  ) |>
  filter(!is.na(type)) |>
  count(type, sort = TRUE) |>
  pull(type)

pokemon_df |>
  filter(type_1 %in% top_types) |>
  ggplot(aes(x = reorder(type_1, total, median), y = total, fill = type_1)) +
  geom_boxplot(alpha = 0.7) +
  scale_fill_manual(values = type_colors) +
  coord_flip() +
  labs(
    title = "BST by Type(Most mean to least)",
    x = "Owned Type", y = "Total BST"
  ) +
  theme(legend.position = "none")
```

üåü **Analysis**:
*Dragon-types* sit comfortably at the top of the BST chart‚Äîno surprise there. The type has basically become the franchise‚Äôs ‚Äústat type,‚Äù boosted every generation by at least one pseudo-legendary$^{(1)}$ line. These late-game, three-stage powerhouses (‚Äúbig late bloomers‚Äù) dramatically raise the overall average for Dragons.

In contrast, *Bug*, *Normal*, and *Poison* types sit much lower, reflecting their roles as early-route or concept-simple species. The spread in BST across types clearly mirrors long-standing design choices rather than randomness.

*Pseudo-legendary (1): Traditionally Dragon-type ‚Äúlate bloomers‚Äù. Because they evolve much later in the game, they are granted significantly higher stats, typically reaching their final form only near the end of a playthrough.*

<details>
<summary><b>Click to expand: Average stats by type(detailed)</b></summary>
```{r avg-stats-type}
# Calculate average stats per type
type_stats <- pokemon_df |>
  pivot_longer(
    cols = c(type_1, type_2),
    names_to = "slot",
    values_to = "type"
  ) |>
  filter(!is.na(type)) |>
  group_by(type) |>
  summarise(
    count = n(),
    avg_total = mean(total, na.rm = TRUE),
    avg_hp = mean(hp, na.rm = TRUE),
    avg_attack = mean(attack, na.rm = TRUE),
    avg_sp_atk = mean(sp_atk, na.rm = TRUE),
    avg_defense = mean(defense, na.rm = TRUE),
    avg_sp_def = mean(sp_def, na.rm = TRUE),
    avg_speed = mean(speed, na.rm = TRUE)
  ) |>
  arrange(desc(avg_total))

kable(type_stats, caption = "Average Stats by Tyoe", digits = 1)

# Heatmap
type_stats |>
  select(type, avg_hp, avg_attack, avg_sp_atk, avg_defense, avg_sp_def, avg_speed) |>
  pivot_longer(-type, names_to = "stat", values_to = "value") |>
  mutate(stat = str_remove(stat, "avg_")) |>
  ggplot(aes(x = stat, y = reorder(type, value), fill = value)) +
  geom_tile() +
  scale_fill_gradientn(
    colours = c("#b9d6f2", "#d0e1f9", "#f7f9ff", "#f9d5e5", "#f6b0c3"),
    name = "Average Value"
  ) +
  labs(
    title = "Average Stats Heatmap (Top 12 Types by BST)",
    x = "Stat", y = "Owned Type", fill = "Average Value"
  )
```
</details>

# Special Categories Deep Dive
```{r}
category_stats <- pokemon_df |>
  group_by(category) |>
  summarise(
    count = n(),
    avg_total = mean(total, na.rm = TRUE),
    avg_hp = mean(hp, na.rm = TRUE),
    avg_attack = mean(attack, na.rm = TRUE),
    avg_defense = mean(defense, na.rm = TRUE),
    avg_sp_atk = mean(sp_atk, na.rm = TRUE),
    avg_sp_def = mean(sp_def, na.rm = TRUE),
    avg_speed = mean(speed, na.rm = TRUE)
  ) |>
  arrange(desc(avg_total))
```

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0;">
<div style="padding: 20px; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">`r category_stats$count[category_stats$category == "Legendary"]`</div>
<div>Legendary Pok√©mons</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">`r category_stats$count[category_stats$category == "Mythical"]`</div>
<div>Mythical Pok√©mons</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #7f7fd5 0%, #86a8e7 50%, #91eae4 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">`r category_stats$count[category_stats$category == "Paradox"]`</div>
<div>Paradox Pok√©mons</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #f6d365 0%, #fda085 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">`r category_stats$count[category_stats$category == "Ultra Beast"]`</div>
<div>Ultra Beast Pok√©mons</div>
</div>
<div style="padding: 20px; background: linear-gradient(135deg, #a1ffce 0%, #faffd1 100%); border-radius: 15px; color: white;">
<div style="font-size: 2.5em; font-weight: bold;">`r category_stats$count[category_stats$category == "Regular"]`</div>
<div>Regular Pok√©mons</div>
</div>
</div>

---

## Legendary vs all Others Stats

<details>
<summary><b>Welch Two Sample t-test Result</b></summary>
```{r}
# Statistical test
legendary_test <- t.test(total ~ is_legendary, data = pokemon_df)
legendary_test
```
</details>

<details>
<summary><b>Average Stats by Category</b></summary>
```{r special-categories}
kable(category_stats, caption = "Average Stats by Category", digits = 1)
```
</details>

```{r legendary-comparison}
# Violin plot
pokemon_df |>
  mutate(label = if_else(is_legendary, "Legendary", "Others")) |>
  ggplot(aes(x = label, y = total, fill = label)) +
  geom_violin(alpha = 0.7) +
  geom_boxplot(width = 0.2, alpha = 0.5) +
  scale_fill_manual(values = c("Others" = "steelblue", "Legendary" = "gold")) +
  labs(
    title = "BST: Legendary vs Other Pokemons",
    x = "", y = "Total BST"
  ) +
  theme(legend.position = "none")
```

üåü **Finding**: 
Based on a Welch two-sample t-test (t = `r round(legendary_test$statistic, 2)`, 
p < `r signif(legendary_test$p.value, 2)`), Legendary Pok√©mon have a significantly higher 
mean BST (`r round(legendary_test$estimate[2],1)`) compared to non-Legendary Pok√©mon 
(`r round(legendary_test$estimate[1],1)`), about `r round(((legendary_test$estimate[2]/legendary_test$estimate[1])-1)*100,1)`% higher.

*The Violin plot gives same result*: Legendary Pok√©mon have significantly higher and more concentrated total base stats compared to all other Pok√©mon, whose BST values are far more diverse and widely spread.


# Summary

<div style="text-align: center; margin: 20px 0;">
<img src="assets/sprites/gif/wishiwashi-solo-form.gif" width="40" alt="Wishiwashi-solo-form" style="margin: 0 8px;">
<img src="assets/sprites/gif/alcremie.gif" width="40" alt="Alcremie" style="margin: 0 8px;">
<img src="assets/sprites/gif/cinccino.gif" width="70" alt="Cinccino" style="margin: 0 8px;">
<img src="assets/sprites/gif/sprigatito.gif" width="40" alt="Sprigatito" style="margin: 0 8px;">
<img src="assets/sprites/gif/pheromosa.gif" width="70" alt="Pheromosa" style="margin: 0 8px;">
<img src="assets/sprites/gif/gardevoir-mega-gardevoir.gif" width="70" alt="Mega-Gardevoir" style="margin: 0 8px;">
<img src="assets/sprites/gif/diancie-mega-diancie.gif" width="95" alt="Mega-Diancie" style="margin: 0 8px;">
<img src="assets/sprites/gif/rayquaza-mega-rayquaza.gif" width="95" alt="Mega-Rayquaza" style="margin: 0 8px;">
</div>

<div style="background: #f8f9fa; padding: 30px; border-radius: 15px; border-left: 5px solid #667eea;">

### EDA KEY FINDINGS

- **Stats Distribution**: The distribution of Pok√©mon's base stats is not normal, but rather a multi-modal distribution.
- **"Stats Monster"**: "Has Dragon Type" pokemons owns greatest mean of BST.
- **"Birds Everywhere Outside"**: Normal/Flying type Pok√©mon are the most numerous, followed by Bug/Flying type.
- **"Pok√©mon Ecology"**: Despite their exaggerated scale, Pok√©mon size distributions share a similar right-skewed shape with real animals.

### Key Statistics

- Legendary vs Other(BST) 
    - Difference(greater than other) is highly significant with p < `r signif(legendary_test$p.value, 2)`
    - BST estimate was about `r round(((legendary_test$estimate[2]/legendary_test$estimate[1])-1)*100,1)`% higher than other pokemons.

</div>

---

<div style="text-align: center; padding: 20px; color: #666;">
The statistical analysis includes only fully evolved Pok√©mon and special final forms. Unevolved species (e.g., Charmander) are excluded.
</div>

<div style="text-align: center; margin-top: 40px;">
  <img src="assets/sprites/home/diancie.png" style="max-width: 60%;">
</div>

<div style="height: 150px;"></div>